<html lang="en">
<head>
    <title>Qt Web Engine View</title>
    <script type="application/javascript" src="qwebchannel.js"></script>
    <style>
        html body {
            background: #333;
        }
    </style>
</head>
<body>
    <div id="xxx">
    </div>
    <input type="text"/>
    <script>

        function echoWrite(s) {
            document.getElementById("xxx").innerText += s;
        }

        new QWebChannel(qt.webChannelTransport, function(channel) {
            channel.objects.occ.sendMessage.connect(function (message) {
                echoWrite("-- ", typeof(message), " : ", message);
            })
            window.occ = channel.objects.occ;
            occ.add(1, 3, function (r) {
                echoWrite(`1 + 3 = ${r}`)
            })
        });

        setTimeout(() => {
            occ.receiveFromWeb("oh~ i'm web");
        }, 2000)
    </script>
</body>
</html>